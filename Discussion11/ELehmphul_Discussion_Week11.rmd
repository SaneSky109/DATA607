---
title: 'DATA 605: Discussion 11'
author: "Eric Lehmphul"
date: "11/3/2021"
output: pdf_document
---

```{r include = FALSE}
knitr::opts_chunk$set(fig.align="center", fig.width = 6)
```

The data used in this Discussion can be found at: https://www.kaggle.com/crawford/80-cereals. The dataset contains the the nutrition facts of 80 popular cereals. I decided to focus on calories and sugars.

## Task

Using R, build a  regression model for data that interests you. Conduct residual analysis.  Was the linear model appropriate? Why or why not?

## Cereal: Calories vs. Sugars

```{r}
library(ggplot2)
```

```{r}
cereal <- read.csv("cereal.csv")
```


```{r}
ggplot(cereal, aes(x=sugars, y=calories)) +
  geom_point()  +
  ggtitle("Calories vs. Sugars")
```


```{r}
model1 <- lm(calories ~ sugars, data = cereal)
```


```{r}
ggplot(cereal, aes(x=sugars, y=calories)) +
  geom_point() +
  ggtitle("Calories vs. Sugars") +
  geom_smooth(method = "lm")
```

\clearpage

## Residual Analysis


### Residual vs Fitted

```{r}
plot(fitted(model1), resid(model1), xlab = "Fitted Values", ylab = "Residual Values", main = "Residuals vs. Fitted"); abline(0,0)
```

The variability appears to have a pattern:

* For low fitted values, there are larger negative residuals
* For high fited values, there are larger positive residuals

\clearpage

### QQ Plot


```{r}
qqnorm(resid(model1))
qqline(resid(model1))
```

There are many points that deviate from the qqline indicating that the distribution of residuals in not from a normal distribution.


### Was the linear model appropriate? Why or why not?

Based on the residual analysis, a simple linear regression is not an appropriate model. The main assumptions to use linear regression effectively are:

* Linearity: The relationship between X and the mean of Y is linear
* Homoscedasticity: The variance of residuals is the same for any value of X
* Independence: Observations are independent of each other
* Normality: For any fixed value of X, Y is normally distributed

The residual analysis indicated that the assumptions of **Homoscedasticity** and **Normality** were not met.